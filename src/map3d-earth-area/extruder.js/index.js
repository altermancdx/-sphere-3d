const Cube = require('@/Cube')(module, module.exports, require);
Cube("datav:/com/map3d-earth-area/0.0.16/extruder.js",["datav:/npm/earcut/2.1.2","datav:/npm/geojson-bbox/0.0.0"],function(a,b,c){var d=require("earcut"),e=require("geojson-bbox");return a.exports=function(a,b){b=Object.assign({rMax:205,rMin:201,project:null,closed:!0},b);var c=d.flatten(a),f=c.vertices,g=f.length/2,h=[],j=[],k=[],l=[],m=d(c.vertices,c.holes,c.dimensions);if(b.rMax===b.rMin){var n=e({type:"Polygon",coordinates:a}),o=n[2]-n[0],p=n[3]-n[1];f.forEach(function(a,d){if(0===d%c.dimensions){var e=b.project.ll2sphere(f[d],f[d+1],b.rMax);h.push(e.x,e.y,e.z);var g=b.project.ll2plane(f[d],f[d+1],b.rMax);j.push(g.x,g.y,g.z),k.push((f[d]-n[0])/o,(f[d+1]-n[1])/p)}}),l=m}else{var q=[],r=[];f.forEach(function(a,d){if(0===d%c.dimensions){var e=b.project.ll2sphere(f[d],f[d+1],b.rMin),g=b.project.ll2sphere(f[d],f[d+1],b.rMax);h.push(e.x,e.y,e.z),q.push(g.x,g.y,g.z);var i=b.project.ll2plane(f[d],f[d+1],b.rMin),k=b.project.ll2plane(f[d],f[d+1],b.rMax);j.push(i.x,i.y,i.z),r.push(k.x,k.y,k.z)}}),[].push.apply(h,q),[].push.apply(j,r);for(var s=0;s<g;s++)s===g-1?l.push(s+g,g,s,0,s,g):l.push(s+g,s+g+1,s,s+1,s,s+g+1);b.closed&&([].push.apply(l,m),m.forEach(function(a,b){0===b%3&&l.push(m[b+0]+g,m[b+2]+g,m[b+1]+g)}))}return{planePositions:j,spherePositions:h,uvs:k,cells:l,cellsLen:l.length,positionsLen:j.length}},a.exports});;
